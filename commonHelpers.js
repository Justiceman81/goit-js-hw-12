import{a as g,S as y,i as c}from"./assets/vendor-ee72e1a4.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=a(t);fetch(t.href,s)}})();const L="44348563-8832aea6e55efd6ddd80494f7",w="https://pixabay.com/api/",m=async(o,e,a)=>{try{return(await g.get(w,{params:{key:L,q:o,image_type:"photo",orientation:"horizontal",safesearch:!0,page:e,per_page:15}})).data}catch(r){throw console.log(r),r}},v=new y(".gallery a");document.querySelector(".img-list");function h(o){const e=i.imgGallery,a=o.hits.map(r=>`<li class="list-el">
                <a href="${r.largeImageURL}"><img src='${r.webformatURL}' alt='${r.tags}'></a>
                <div class="content">
                    <div class="item"><h3>Likes</h3><p>${r.likes}</p></div>
                    <div class="item"><h3>Views</h3><p>${r.views}</p></div>
                    <div class="item"><h3>Comments</h3><p>${r.comments}</p></div>
                    <div class="item"><h3>Downloads</h3><p>${r.downloads}</p></div>
                </div>
            </li>`).join("");e.innerHTML=a,v.refresh()}function b(){i.loader.classList.remove("hidden")}function u(){i.loader.classList.add("hidden")}function f(){i.loadMore.classList.remove("hidden")}function p(){i.loadMore.classList.add("hidden")}let n=1,d=null;const i={formEl:document.querySelector(".form-el"),inputEl:document.querySelector(".input-search"),imgGallery:document.querySelector(".gallery"),loader:document.querySelector(".loader"),loadMore:document.querySelector(".btn-load-more")};i.formEl.addEventListener("submit",async o=>{o.preventDefault(),i.imgGallery.innerHTML="",b(),p(),n=1,d=o.currentTarget.elements.search.value.trim();try{const e=await m(d,n);e.total>0,c.success({position:"topRight",message:`We find ${e.total} photos`}),e.total.length===0&&c.error({position:"topRight",message:"Sorry, there are no images matching your search query. Please try again!"}),i.imgGallery.innerHTML=h(e),e.total>12&&f()}catch(e){console.log(e)}finally{o.target.reset(),u()}});i.loadMore.addEventListener("click",async()=>{n++,f();try{const o=await m(d,n);i.imgGallery.insertAdjacentHTML("beforeend",h(o));const{height:e}=document.querySelector(".img-list").firstElementChild.getBoundingClientRect();window.scrollBy({top:e*2,behavior:"smooth"});const a=Math.ceil(o.total/15);n===a&&(p(),c.info({position:"topRight",message:"We're sorry, but you've reached the end of search results."}))}catch(o){console.log(o)}finally{u()}});
//# sourceMappingURL=commonHelpers.js.map
